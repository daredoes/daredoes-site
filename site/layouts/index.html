{{ partial "header" . }}
<div class="print-only">
    <div class="" id="print-header">
        <h1 class="resume-large">{{ .Params.first_name }} {{ .Params.last_name}}</h1>
        <div style="margin-top: -1.5rem; margin-bottom: -0.5rem;" class="print-header-items print-info">
            <p class="condensed resume-medium" >
              {{ with .Site.GetPage "page" "pages/resume.md"}}
              {{ if .Params.contact}}
              {{ $pages := where (.Params.contact) "printable" "==" true }}
              {{ range $index,$p := sort (sort $pages "title") "weight" }}
                 {{ if ne $index 0}}| {{end}}{{ $p.body|markdownify }}
              {{ end }}
              {{ end }}
              {{ end }}
            </p>
        </div>

    </div>

    {{ with .Content }}
    <hr class="condensed">
    <div class="body">
       {{ . }}
    </div>
    {{ end }}
    {{ with .Site.GetPage "page" "pages/resume.md" }}
    {{ if .Params.body }}
    <hr class="condensed">
    <div class="row ">
      <div class="col s3 no-padding">
        <span class="heavy">Career Objective</span>
      </div>
      <div class="col s9 no-padding content-text resume-small">
        {{ .Params.body|markdownify }}
      </div>
    </div>
    {{ end }}
    {{ end }}
    {{ with .Site.GetPage "section" "education" }}
    {{ $pages := where (.Pages) ".Params.printable" "==" true }}
    {{ if $pages }}
    <h5 class="print-header resume-large">Education</h5>
    <hr class="half-condensed">
    {{ range sort (sort $pages "Params.graduation_date" "desc") "Params.weight" }}
    <div class="print-header-items">
                <h6 class="title resume-medium">{{ .Title }} <span class="right">{{ .Params.pre_date|default "" }} {{ .Params.display_date }}</span></h6>
                <div class="body condensed context-text resume-small default-children">{{ .Content }}</div>
    </div>
    {{ end }}
    {{ end }}
    {{ end }}
    {{ with .Site.GetPage "section" "experience" }}
    {{ $pages := where (.Pages) ".Params.printable" "==" true }}
    {{ if $pages }}
    <h5 class="print-header resume-large">Experience</h5>
    <hr class="half-condensed">
    {{ range sort $pages "Params.weight" }}
    <div class="print-header-items">
                <h6 class="title resume-medium">{{ .Params.name }} - {{ .Title}} <span class="right">{{ .Params.display_date}}</span></h6>

                <div class="body condensed context-text resume-small default-children">{{ .Content }}</div>
    </div>
    {{ end }}
    {{ end }}
    {{ end }}
    {{ with .Site.GetPage "section" "skills" }}
    {{ $pages := where .Pages.ByWeight "Params.printable" "==" true }}
    {{ if $pages }}
    <div>
    <h5 class="print-header resume-large">Skills</h5>
            <hr class="half-condensed">
            {{ range sort $pages "Params.level" "desc" }}
            <div class="row half-condensed">
              <div class="col s3 no-padding">
                <span class="heavy">{{ .Title }}</span>
              </div>
              <div class="col s9 no-padding content-text resume-small">
                {{ .Content }}
              </div>
            </div>
            {{end}}
    </div>
    {{ end }}
    {{ end }}
</div>

<div id="mainContainer1" class="container-fluid resume-container scroll bg-stardust tertiary-color">


        <!--
        DISPLAYED AREA
      -->

        {{ with .Site.GetPage "page" "pages/resume.md" }}
        <div class="card tertiary-color lighten-4 no-print bg-witewall_3">
            <div class="row center">
                <div id="photo" class="tertiary-color lighten-4 circle" >
                    <img src="{{ .Params.image|default "/img/icons/avatar.gif"}}" alt="" class="darkness reverseScrollSlow circle responsive-img " style="vertical-align: middle">
                </div>
                <div class="col s12 no-print context-text">

                    <p class="center heavy" style="margin-top: -0.2em; margin-bottom: 0; font-size: 2.5em;">Hello,</p>
                    <p class="center heavy" style="margin-top: 0; font-size: 2em;">My name is <span class="secondary-color-text print">{{ .Params.first_name }} {{ .Params.last_name}}</span>
                        <sup class="primary-color-text">{{math.Floor (div ((time now).Sub (time .Params.birth_date)).Hours 8765.82) }}YO</sup> and this is
                      my <a class="link-secondary-color" href="javascript:window.print()">resume/cv</a></p>
                </div>
            </div>
            <div class="row">
                <div class="col s12 l7">
                  {{ with .Content }}
                    <div class="row">
                    <p class="resume-section-header heavy secondary-color-text">//About Me</p>
                        <div id="about_text" class="context-text">
                            {{ . }}
                        </div>
                    </div>
                    {{ end }}
                    {{ with .Site.GetPage "section" "education"}}
                    <div class="row">
                    <p class="resume-section-header heavy secondary-color-text">//Education</p><hr>
                        <ul class="z-depth-1 collection tertiary-color lighten-4" style="border: 0;">
                            {{ range where (sort (sort .Pages "Params.graduation_date" "desc") "Params.weight") "Params.display" "==" true  }}
                                <li class="collection-item tertiary-color lighten-4 no-padding" style="border:0; padding: 1em 0em 5em 0.5em !important;" >
                                    <div class="left col no-padding m1 s2 l2">
                                        <span class="badge boxed tertiary-color tertiary-color-text">{{ .Params.display_date}}</span>
                                    </div>
                                    <div class="col m11 s10 l10">
                                        <span class="experience-title">{{ .Title }}</span>
                                        <br>
                                        <span class="context-text body">
                                            {{ .Content }}
                                        </span>
                                    </div>
                                </li>
                            {{ end }}
                        </ul>
                    </div>
                    {{ end }}
                    {{ with .Site.GetPage "section" "experience"}}
                    <div class="row">
                    <p class="resume-section-header heavy secondary-color-text">//Experience</p><hr>
                        <div class="scroll-box">
                            <div class="row">
                              {{ range where .Pages.ByDate.ByWeight "Params.display" "==" true }}
                                <div class="col s12">
                                    <div class="card tertiary-color lighten-4">
                                        <div class="card-content black-text content-text default-children">
                                            <span class="card-title"><a href="{{ .Params.external_url|safeURL }}" class="link-secondary-color">{{.Params.name }} - {{ .Title }}</a></span>
                                            {{ .Content }}
                                        </div>
                                        <div class="card-action">
                                            <span class="">{{ .Params.display_date}}</span>
                                        </div>
                                    </div>
                                </div>
                                {{ end }}
                            </div>
                        </div>
                    </div>
                    {{ end }}
                    {{ with .Site.GetPage "section" "project"}}
                    <div class="row">
                    <p class="resume-section-header heavy secondary-color-text">//Projects</p><hr>
                        <div class="scroll-box">
                            <div class="row">
                              {{ range where .Pages.ByDate.ByWeight "Params.display" "==" true }}
                                <div class="col s12">
                                    <div class="card tertiary-color lighten-4" >
                                      <a class="modal-trigger" href="#{{ .Title|urlize }}"><div class="card-image  waves-effect waves-block waves-light">
                                        <img class="tertiary-color lighten-4 darkness reverseScrollSlow" style="margin-bottom: 0;" src="{{ .Params.image| default "/img/project_transparent.png" }}">
                                      </div>
                                    <a href="#{{ .Title|urlize }}" class="link-color modal-trigger"><div class="card-action center-align secondary-color">
                                      <span class='link-color'>
                                        Learn More
                                      </span>
                                    </div></a></a>

                                    </div>
                                </div>
                                <div id="{{ .Title|urlize }}" class="modal modal-fixed-footer">
                                  <div class="modal-header">

                                  </div>
                                  <div class="modal-content">

                                    <div class="context-text default-children">
                                      {{ .Content }}
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <span class="primary-color-text left btn-flat">{{ .Title }}</span>
                                    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
                                  </div>
                                </div>
                                {{ end }}
                            </div>
                        </div>
                    </div>
                    {{ end }}
                    </div>

                <div class="col s12 l5">
                  {{ if .Params.contact }}
                    <div class="row">
                    <p class="resume-section-header heavy secondary-color-text">//Contact</p><hr>
                        <ul class="collection tertiary-color lighten-4 z-depth-1" style="border: 0;">
                          {{ range $p := where (sort (sort .Params.contact "title") "weight") "display" "==" true}}

                            <li class="collection-item avatar tertiary-color lighten-4" style="margin-bottom: -1.75em;">
                                  <a class="contact-button" href="{{ $p.external_url|safeURL }}">
                                    <i class="fa {{ $p.icon}} circle secondary-color lighten-1"></i></a>
                            <span class="title heavy">{{ $p.title }}</span>
                                <p>{{ $p.body|markdownify }}</p>
                            </li>
                            {{ end }}
                        </ul>
                    </div>
                    {{ end }}
                    {{ if .Params.skill}}
                    <div class="row">
                    <p class="resume-section-header heavy secondary-color-text">//Skills</p>
                    <hr>
                    <div class="row resume-bar-level-text primary-color-text text-darken-2">
                        <div class="col s3 center" style="border-top: double; border-left: double">
                            Beginner
                        </div>
                        <div class="col s3 center" style="border-top: double; border-left: double">
                            Competent
                        </div>
                        <div class="col s3 center" style="border-top: double; border-left: double; border-right: double;">
                            Expert
                        </div>
                        <div class="col s3 center" style="border-top: double; border-right: double">
                            Master
                        </div>
                    </div>
                    <div class="row scroll-box">
                      {{ range where (sort .Params.skill "level" "desc") "display" "==" true }}
                        <div class="resume-bar-holder secondary-color accent-4">
                            <div class="resume-bar secondary-color" style="width: {{.level}}%;">
                                <span class=" resume-bar-text tertiary-color-text">{{.title }}</span>
                            </div>
                        </div>
                        {{ end }}
                    </div>

                  </div>
                  {{end}}
                  {{ with .Site.GetPage "section" "skills"}}
                  <div class="row">
                  <p class="resume-section-header heavy secondary-color-text">//Skills</p>
                  <hr>
                  <div class="row resume-bar-level-text primary-color-text text-darken-2">
                      <div class="col s3 center" style="border-top: double; border-left: double">
                          Beginner
                      </div>
                      <div class="col s3 center" style="border-top: double; border-left: double">
                          Competent
                      </div>
                      <div class="col s3 center" style="border-top: double; border-left: double; border-right: double;">
                          Expert
                      </div>
                      <div class="col s3 center" style="border-top: double; border-right: double">
                          Master
                      </div>
                  </div>
                  <div class="row scroll-box">
                    <ul class="collection tertiary-color lighten-4 z-depth-1" style="border: 0;">
                      {{ range where (sort .Pages "Params.level" "desc") "Params.display" "==" true }}

                        <li class="collection-item avatar tertiary-color lighten-4" style="margin-bottom: -1.75em;">
                              <a class="contact-button" href="#!">
                                <i class="fa fa-heart circle secondary-color lighten-1"></i></a>
                        <span class="title heavy">{{ .Title }}</span>
                            <div class="context-text">{{ .Content }}</div>
                        </li>
                        {{ end }}
                    </ul>
                  </div>

                  </div>
                  {{end}}
                  {{ if .Params.hobby }}
                  <div class="row">
                    <p class="resume-section-header heavy secondary-color-text">//Hobbies</p><hr>
                    <div style="margin-top: 1em;">

                      {{ range where (sort (sort .Params.hobby "title") "weight") "display" "==" true }}
                    <div class="chip secondary-color tertiary-color-text">
                        <i class="fa fa-heart primary-color-text"></i> {{.title|title}}
                    </div>
                    {{ end }}

                  </div>

                    </div>
                              {{ end }}

                </div>


            </div>
        </div>
        {{ end }}
    </div>

<!--<div class="content container">
  <div class="row">
    <div class="col s12 m6">
      {{ .Content }}
    </div>
    <div class="col s12 m6">
      <img src="/img/uploads/profile_picture.png">
    </div>
  </div>
</div>-->
<script>
  if (window.netlifyIdentity) {
    window.netlifyIdentity.on("init", user => {
      if (!user) {
        window.netlifyIdentity.on("login", () => {
          document.location.href = "/admin/";
        });
      }
    });
  }
</script>
{{ partial "footer" . }}
